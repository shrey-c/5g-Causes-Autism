{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\d970672\\\\Documents\\\\Bootcamp\\\\5g-Edge-Discovery-Service\\\\5g-edge-ui\\\\src\\\\user\\\\oauth2\\\\OAuth2RedirectHandler.js\";\nimport React, { Component } from \"react\";\nimport { ACCESS_TOKEN } from \"../../Constants\";\nimport { Redirect } from \"react-router-dom\";\n\nclass OAuth2RedirectHandler extends Component {\n  getUrlParameter(name) {\n    name = name.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\n    var regex = new RegExp(\"[\\\\?&]\" + name + \"=([^&#]*)\");\n    var results = regex.exec(this.props.location.search);\n    return results === null ? \"\" : decodeURIComponent(results[1].replace(/\\+/g, \" \"));\n  }\n\n  render() {\n    const token = this.getUrlParameter(\"token\");\n    const error = this.getUrlParameter(\"error\");\n\n    if (token) {\n      localStorage.setItem(ACCESS_TOKEN, token);\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: {\n          pathname: \"/\",\n          state: {\n            from: this.props.location\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 9\n        }\n      });\n    } else {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: {\n          pathname: \"/login\",\n          state: {\n            from: this.props.location,\n            error: error\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 9\n        }\n      });\n    }\n  }\n\n}\n\nexport default OAuth2RedirectHandler;","map":{"version":3,"sources":["C:/Users/d970672/Documents/Bootcamp/5g-Edge-Discovery-Service/5g-edge-ui/src/user/oauth2/OAuth2RedirectHandler.js"],"names":["React","Component","ACCESS_TOKEN","Redirect","OAuth2RedirectHandler","getUrlParameter","name","replace","regex","RegExp","results","exec","props","location","search","decodeURIComponent","render","token","error","localStorage","setItem","pathname","state","from"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,YAAT,QAA6B,iBAA7B;AACA,SAASC,QAAT,QAAyB,kBAAzB;;AAEA,MAAMC,qBAAN,SAAoCH,SAApC,CAA8C;AAC5CI,EAAAA,eAAe,CAACC,IAAD,EAAO;AACpBA,IAAAA,IAAI,GAAGA,IAAI,CAACC,OAAL,CAAa,MAAb,EAAqB,KAArB,EAA4BA,OAA5B,CAAoC,MAApC,EAA4C,KAA5C,CAAP;AACA,QAAIC,KAAK,GAAG,IAAIC,MAAJ,CAAW,WAAWH,IAAX,GAAkB,WAA7B,CAAZ;AAEA,QAAII,OAAO,GAAGF,KAAK,CAACG,IAAN,CAAW,KAAKC,KAAL,CAAWC,QAAX,CAAoBC,MAA/B,CAAd;AACA,WAAOJ,OAAO,KAAK,IAAZ,GACH,EADG,GAEHK,kBAAkB,CAACL,OAAO,CAAC,CAAD,CAAP,CAAWH,OAAX,CAAmB,KAAnB,EAA0B,GAA1B,CAAD,CAFtB;AAGD;;AAEDS,EAAAA,MAAM,GAAG;AACP,UAAMC,KAAK,GAAG,KAAKZ,eAAL,CAAqB,OAArB,CAAd;AACA,UAAMa,KAAK,GAAG,KAAKb,eAAL,CAAqB,OAArB,CAAd;;AAEA,QAAIY,KAAJ,EAAW;AACTE,MAAAA,YAAY,CAACC,OAAb,CAAqBlB,YAArB,EAAmCe,KAAnC;AACA,0BACE,oBAAC,QAAD;AACE,QAAA,EAAE,EAAE;AACFI,UAAAA,QAAQ,EAAE,GADR;AAEFC,UAAAA,KAAK,EAAE;AAAEC,YAAAA,IAAI,EAAE,KAAKX,KAAL,CAAWC;AAAnB;AAFL,SADN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAQD,KAVD,MAUO;AACL,0BACE,oBAAC,QAAD;AACE,QAAA,EAAE,EAAE;AACFQ,UAAAA,QAAQ,EAAE,QADR;AAEFC,UAAAA,KAAK,EAAE;AACLC,YAAAA,IAAI,EAAE,KAAKX,KAAL,CAAWC,QADZ;AAELK,YAAAA,KAAK,EAAEA;AAFF;AAFL,SADN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAWD;AACF;;AAtC2C;;AAyC9C,eAAed,qBAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { ACCESS_TOKEN } from \"../../Constants\";\nimport { Redirect } from \"react-router-dom\";\n\nclass OAuth2RedirectHandler extends Component {\n  getUrlParameter(name) {\n    name = name.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\n    var regex = new RegExp(\"[\\\\?&]\" + name + \"=([^&#]*)\");\n\n    var results = regex.exec(this.props.location.search);\n    return results === null\n      ? \"\"\n      : decodeURIComponent(results[1].replace(/\\+/g, \" \"));\n  }\n\n  render() {\n    const token = this.getUrlParameter(\"token\");\n    const error = this.getUrlParameter(\"error\");\n\n    if (token) {\n      localStorage.setItem(ACCESS_TOKEN, token);\n      return (\n        <Redirect\n          to={{\n            pathname: \"/\",\n            state: { from: this.props.location },\n          }}\n        />\n      );\n    } else {\n      return (\n        <Redirect\n          to={{\n            pathname: \"/login\",\n            state: {\n              from: this.props.location,\n              error: error,\n            },\n          }}\n        />\n      );\n    }\n  }\n}\n\nexport default OAuth2RedirectHandler;\n"]},"metadata":{},"sourceType":"module"}